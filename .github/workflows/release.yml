name: Release
on:
  create:
    tags:
    - v*

jobs:
  release:
    name: Release on GitHub
    runs-on: ubuntu-latest
    steps:
    - name: Check out code
      uses: actions/checkout@v1

    - name: Get dependencies
      run: |
        docker run --rm --privileged \
        -v ($pwd):/go/src/github.com/lililala/ElectricitySystem \
        -w /go/src/github.com/lililala/ElectricitySystem \
        goreleaser/goreleaser:latest-cgo release --snapshot --rm-dist
